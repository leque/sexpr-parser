apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'antlr'

repositories {
    mavenCentral()
}

def antlrVersion = '4.11.1'

dependencies {
    // https://mvnrepository.com/artifact/org.antlr/antlr4-runtime
    implementation "org.antlr:antlr4-runtime:${antlrVersion}"

    antlr "org.antlr:antlr4:${antlrVersion}"

    // https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter
    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.1'
}

test {
    useJUnitPlatform()
}

generateGrammarSource {
    outputDirectory =
            new File("${project.buildDir}/generated-src/antlr/main/io/github/leque/sexpr/antlr".toString())
    arguments = [
            "-package", "io.github.leque.sexpr.antlr",
    ]
}

